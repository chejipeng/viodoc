<p-growl [(value)]="msgs" life="2000"></p-growl>
<div [@pageAnimation]="'in'">
  <my-breadcrumb name1="我的文库" name2="创建文章"></my-breadcrumb>

  <!-- <div class="search-area">
    <label class="mr15">选择日期</label>
      <p-calendar [showIcon]="true" [inputStyle]="{'width':'100px'}" [style]="{'margin-right':'35px'}" [(ngModel)]="selectTime"
        (onSelect)="selectDate()">
      </p-calendar>
  </div> -->
</div>

<div class="content">
    
  <input id="input" type="text" pInputText [(ngModel)]="articleTitle"  placeholder="文章标题"> 
  
  <div  pInputText (click)="showtagtree()" style = "margin-bottom:10px" >文章标签： 
    <span *ngFor="let file of selectedFiles">{{file.label}} 
            <i class="fa fa-times" aria-hidden="true" (click)="del(file)"></i>
    </span>
  </div>
  <div  *ngIf="tagtree" style = "margin-bottom:10px;">
      <span (click)="closetag()">x</span>
      <p-tree [value]="files" selectionMode="multiple" 
          (onNodeSelect)="nodeSelect($event)" >
      </p-tree>
     
  </div>
  

  <div id="editormenu" class="toolbar">
      <div class="my-tool-bar " > 
          <span (click)="fileInputClick('uploadImg')"><i class="w-e-icon-image"></i> 插入图片</span>
          <span (click)="fileInputClick('uploadVideo')"><i class="w-e-icon-play"></i> 插入视频</span>
      </div>
      <input id="uploadImg" type="file" hidden
      (change)="imgOperate($event)"
      accept="image/gif,image/jpeg,image/jpg,image/png,image/svg" />
      <input id="uploadVideo" type="file" (change)="videoOperate($event)" hidden accept="video/*" />
      
  </div>
  <!-- <div style="padding: 5px 0; color: #ccc">中间隔离带</div> -->
  <div id="editor" class="editorcontent"> <!--可使用 min-height 实现编辑区域自动增加高度-->
      <p>请输入内容</p>
  </div>
  <div class = "footer" >
    <button pButton type="button" (click)="count()" label="保 存"></button>
    <button pButton type="button" (click)="count()" label="发 布"></button>
    <button pButton type="button" (click)="getPrewviewHtml()" label="预 览"></button>
  </div>

    <div  class="preview-layer">
        <span class="close" (click)="closePreview()" >
        <i class="fa fa-times fa-5x" aria-hidden="true"></i>
    </span>
        <div class="preview-bg"></div>
        <div class="preview-phone">
            <iframe id="preview-html" name="preview-html" src="assets/html/preview-h5.html"></iframe>
        </div>
    </div>

</div>


